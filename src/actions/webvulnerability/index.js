import { fetchWebVulnerabilityByID } from '../../api/webvulnerability';

export const FETCH_WEBVULNERABILITY_BY_ID_SUCCESS = 'FETCH_WEBVULNERABILITY_BY_ID_SCCESS';
export const FETCH_WEBVULNERABILITY_BY_ID_LOADING = 'FETCH_WEBVULNERABILITY_BY_ID_LOADING';
export const FETCH_WEBVULNERABILITY_BY_ID_FAIL = 'FETCH_WEBVULNERABILITY_BY_ID_FAIL';

export const FETCH_WEBVULNERABILITY_BY_ID = id =>
  (dispatch) => {
    dispatch({ type: FETCH_WEBVULNERABILITY_BY_ID_LOADING, result: { id } });
    fetchWebVulnerabilityByID(id)
      .then(response => dispatch({ type: FETCH_WEBVULNERABILITY_BY_ID_SUCCESS, result: response.data })) // eslint-disable-line max-len
      .catch(err => dispatch({ type: FETCH_WEBVULNERABILITY_BY_ID_FAIL, result: { id, err } }));
  };
